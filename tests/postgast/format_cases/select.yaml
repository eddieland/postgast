# Basic SELECT formatting
- label: select_literal
  inputs:
    - "SELECT 1"
  pretty: |-
    SELECT
      1;

- label: select_columns
  inputs:
    - "SELECT a, b, c FROM t"
  pretty: |-
    SELECT
      a,
      b,
      c
    FROM
      t;

- label: select_star_where
  inputs:
    - "SELECT * FROM users WHERE active = true"
  pretty: |-
    SELECT
      *
    FROM
      users
    WHERE
      active = TRUE;

- label: select_alias
  inputs:
    - "SELECT a AS x, b AS y FROM t"
  pretty: |-
    SELECT
      a AS x,
      b AS y
    FROM
      t;

- label: select_distinct
  inputs:
    - "SELECT DISTINCT a, b FROM t"
  pretty: |-
    SELECT DISTINCT
      a,
      b
    FROM
      t;

# ORDER BY / LIMIT / OFFSET
- label: order_by
  inputs:
    - "SELECT * FROM t ORDER BY a ASC, b DESC NULLS LAST"
  pretty: |-
    SELECT
      *
    FROM
      t
    ORDER BY
      a ASC,
      b DESC NULLS LAST;

# Full SELECT kitchen sink
- label: full_select
  inputs:
    - >-
      SELECT u.name, count(*) FROM users u
      JOIN orders o ON u.id = o.user_id
      WHERE o.total > 100
      GROUP BY u.name
      HAVING count(*) > 1
      ORDER BY u.name
      LIMIT 10
  pretty: |-
    SELECT
      u.name,
      count(*)
    FROM
      users u
      JOIN orders o ON u.id = o.user_id
    WHERE
      o.total > 100
    GROUP BY
      u.name
    HAVING
      count(*) > 1
    ORDER BY
      u.name
    LIMIT
      10;

# DISTINCT ON
- label: distinct_on_single
  inputs:
    - "SELECT DISTINCT ON (a) a, b FROM t ORDER BY a, b"
  pretty: |-
    SELECT DISTINCT ON (a)
      a,
      b
    FROM
      t
    ORDER BY
      a,
      b;

- label: distinct_on_multi
  inputs:
    - "SELECT DISTINCT ON (a, b) a, b, c FROM t ORDER BY a, b"
  pretty: |-
    SELECT DISTINCT ON (a, b)
      a,
      b,
      c
    FROM
      t
    ORDER BY
      a,
      b;

# Locking clauses
- label: for_update
  inputs:
    - "SELECT * FROM t WHERE id = 1 FOR UPDATE"
  pretty: |-
    SELECT
      *
    FROM
      t
    WHERE
      id = 1
    FOR UPDATE;

- label: for_share_skip_locked
  inputs:
    - "SELECT * FROM t FOR SHARE SKIP LOCKED"
  pretty: |-
    SELECT
      *
    FROM
      t
    FOR SHARE SKIP LOCKED;

- label: for_update_of_nowait
  inputs:
    - "SELECT * FROM t1, t2 FOR UPDATE OF t1 NOWAIT"
  pretty: |-
    SELECT
      *
    FROM
      t1,
      t2
    FOR UPDATE OF t1 NOWAIT;

- label: for_no_key_update
  inputs:
    - "SELECT * FROM t FOR NO KEY UPDATE"
  pretty: |-
    SELECT
      *
    FROM
      t
    FOR NO KEY UPDATE;

- label: for_key_share
  inputs:
    - "SELECT * FROM t FOR KEY SHARE"
  pretty: |-
    SELECT
      *
    FROM
      t
    FOR KEY SHARE;

- label: for_key_share_of
  inputs:
    - "SELECT * FROM t FOR KEY SHARE OF t"
  pretty: |-
    SELECT
      *
    FROM
      t
    FOR KEY SHARE OF t;

- label: for_share_nowait
  inputs:
    - "SELECT * FROM t FOR SHARE NOWAIT"
  pretty: |-
    SELECT
      *
    FROM
      t
    FOR SHARE NOWAIT;

- label: for_update_multi_rels
  inputs:
    - "SELECT * FROM t1, t2 FOR UPDATE OF t1, t2"
  pretty: |-
    SELECT
      *
    FROM
      t1,
      t2
    FOR UPDATE OF t1, t2;

# Multiple statements
- label: multi_statement
  inputs:
    - "SELECT 1; SELECT 2"
  pretty: |-
    SELECT
      1;

    SELECT
      2;
